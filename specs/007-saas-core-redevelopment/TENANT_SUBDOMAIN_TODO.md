# ç§Ÿæˆ·å­é¢†åŸŸå®ç° TODO æ¸…å•

**ç„¦ç‚¹**: é¢†åŸŸå±‚ (Domain Layer) - ç§Ÿæˆ·å­é¢†åŸŸ  
**ç›®æ ‡**: é€šè¿‡å®Œæˆç§Ÿæˆ·å­é¢†åŸŸçš„ä»£ç å¼€å‘ï¼ŒéªŒè¯æ˜¯å¦ç¬¦åˆè§„èŒƒè¦æ±‚  
**æ¶æ„**: Clean Architecture + DDD + Rich Domain Model (å……è¡€æ¨¡å‹)

---

## ğŸ“‹ å®ç°æ¸…å•æ€»è§ˆ

### Phase 1: åŸºç¡€è®¾æ–½å‡†å¤‡ (Foundation Setup)

- [ ] ç›®å½•ç»“æ„åˆ›å»º
- [ ] åŸºç¡€å€¼å¯¹è±¡åˆ›å»º
- [ ] é¢†åŸŸäº‹ä»¶åŸºç±»

### Phase 2: ç§Ÿæˆ·èšåˆæ ¹å®ç° (Tenant Aggregate)

- [ ] TenantId å€¼å¯¹è±¡
- [ ] TenantType æšä¸¾
- [ ] TenantStatus æšä¸¾
- [ ] Tenant èšåˆæ ¹
- [ ] é¢†åŸŸäº‹ä»¶

### Phase 3: ä¸šåŠ¡é€»è¾‘å®ç° (Business Logic)

- [ ] ç§Ÿæˆ·åˆ›å»ºä¸šåŠ¡é€»è¾‘
- [ ] ç§Ÿæˆ·çŠ¶æ€è½¬æ¢ä¸šåŠ¡é€»è¾‘
- [ ] ç§Ÿæˆ·èµ„æºé™åˆ¶éªŒè¯
- [ ] ç§Ÿæˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†

### Phase 4: éªŒè¯ä¸æµ‹è¯• (Validation & Testing)

- [ ] æ¶æ„åˆè§„æ€§éªŒè¯
- [ ] ä¸šåŠ¡è§„åˆ™éªŒè¯
- [ ] å•å…ƒæµ‹è¯•

---

## ğŸ”¨ Phase 1: åŸºç¡€è®¾æ–½å‡†å¤‡

### T-001 [P] åˆ›å»ºé¢†åŸŸå±‚ç›®å½•ç»“æ„

**è¯´æ˜**: ç§Ÿæˆ·å­é¢†åŸŸçš„æ–‡ä»¶ç›´æ¥æ”¾åœ¨é¢†åŸŸå±‚çš„ç›¸åº”ç›®å½•ä¸­ï¼Œä¸åˆ›å»ºå•ç‹¬çš„ç§Ÿæˆ·å­ç›®å½•

**æ–‡ä»¶è·¯å¾„**: `libs/saas-core/src/domain/`

**ç›®å½•ç»“æ„**:

```
libs/saas-core/src/domain/
â”œâ”€â”€ entities/                # å†…éƒ¨å®ä½“ï¼ˆæ‰§è¡Œä¸šåŠ¡æ“ä½œå’Œç»´æŠ¤çŠ¶æ€ï¼‰
â”‚   â””â”€â”€ tenant-entity.ts
â”œâ”€â”€ aggregates/              # èšåˆæ ¹ï¼ˆåè°ƒå†…éƒ¨å®ä½“å¹¶å‘å¸ƒäº‹ä»¶ï¼‰
â”‚   â””â”€â”€ tenant.aggregate.ts
â”œâ”€â”€ value-objects/           # å€¼å¯¹è±¡ï¼ˆä½¿ç”¨@hl8/domain-kernelä¼˜å…ˆï¼‰
â”‚   â”œâ”€â”€ tenant-type.vo.ts
â”‚   â””â”€â”€ tenant-status.vo.ts
â”œâ”€â”€ events/                  # é¢†åŸŸäº‹ä»¶
â”‚   â”œâ”€â”€ tenant-created.event.ts
â”‚   â””â”€â”€ tenant-status-changed.event.ts
â”œâ”€â”€ domain-services/         # é¢†åŸŸæœåŠ¡ï¼ˆå¦‚éœ€ï¼‰
â””â”€â”€ index.ts                 # å¯¼å‡ºæ–‡ä»¶
```

**âš ï¸ é‡è¦è¯´æ˜**ï¼š

1. **entities/**: åŒ…å«å†…éƒ¨å®ä½“ TenantEntityï¼ˆæ‰§è¡Œå…·ä½“ä¸šåŠ¡æ“ä½œå’Œç»´æŠ¤è‡ªèº«çŠ¶æ€ï¼‰
2. **aggregates/**: åŒ…å«èšåˆæ ¹ Tenantï¼ˆåè°ƒå†…éƒ¨å®ä½“å¹¶å‘å¸ƒé¢†åŸŸäº‹ä»¶ï¼‰
3. **å®ä½“ä¸èšåˆæ ¹åˆ†ç¦»**ï¼šå³ä½¿ç®€å•çš„èšåˆä¹Ÿå¿…é¡»åˆ†ç¦»ï¼ˆMANDATORYï¼‰
4. **TenantId**: ä¸åœ¨æ­¤ç›®å½•åˆ›å»ºï¼Œä½¿ç”¨ @hl8/domain-kernel çš„ TenantId

**éªŒæ”¶æ ‡å‡†**:

- [x] ç›®å½•ç»“æ„åˆ›å»ºå®Œæˆ
- [x] æ‰€æœ‰ç›®å½•éµå¾ª Clean Architecture å±‚æ¬¡ç»“æ„
- [x] æ¸…æ™°çš„èŒè´£åˆ†ç¦»ï¼ˆèšåˆã€å€¼å¯¹è±¡ã€äº‹ä»¶åˆ†ç¦»ï¼‰

---

### T-002 [P] å®‰è£…å’Œé…ç½® @hl8/domain-kernel ä¾èµ–

**æ–‡ä»¶è·¯å¾„**: `libs/saas-core/package.json`

**ä¾èµ–è¦æ±‚**:

- `@hl8/domain-kernel`: æä¾› AggregateRoot, BaseEntity, BaseValueObject, EntityId, DomainEvent

**éªŒæ”¶æ ‡å‡†**:

- [x] package.json ä¸­åŒ…å« @hl8/domain-kernel ä¾èµ–
- [x] ä¾èµ–ç‰ˆæœ¬æ­£ç¡®ä¸”ä¸é¡¹ç›®å…¼å®¹
- [x] å¯ä»¥åœ¨ä»£ç ä¸­ import åŸºç¡€ç±»

---

## ğŸ—ï¸ Phase 2: å€¼å¯¹è±¡å®ç°

### T-003 ä½¿ç”¨ TenantId å€¼å¯¹è±¡ï¼ˆä¸åˆ›å»ºæ–°å€¼å¯¹è±¡ï¼‰

**è¯´æ˜**: ä¸åˆ›å»ºæ–°çš„ TenantId å€¼å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨ @hl8/domain-kernel æä¾›çš„ TenantId

**æ–‡ä»¶è·¯å¾„**: ç›´æ¥ import from `@hl8/domain-kernel`

```typescript
import { TenantId } from "@hl8/domain-kernel";
```

**ç†ç”±**: ä¼˜å…ˆä½¿ç”¨ç°æœ‰å†…æ ¸ç»„ä»¶ï¼Œé¿å…é‡å¤å®ç°ï¼ˆFR-049Aï¼‰

**éªŒæ”¶æ ‡å‡†**:

- [x] ç»§æ‰¿è‡ª @hl8/domain-kernel çš„ EntityId
- [x] ç±»å‹å®‰å…¨ï¼Œæ— æ³•ç”¨å…¶ä»–IDç±»å‹æ··æ·†
- [x] ä¸å¯å˜å¯¹è±¡
- [x] åŒ…å«ç¼“å­˜æœºåˆ¶
- [x] æ”¯æŒ create() å’Œ generate() é™æ€æ–¹æ³•

---

### T-004 [P] å®ç° TenantType æšä¸¾

**æ–‡ä»¶è·¯å¾„**: `libs/saas-core/src/domain/value-objects/tenant-type.vo.ts`

**å·²å®ç°**: åˆ›å»ºå®Œæ•´çš„ç§Ÿæˆ·ç±»å‹æšä¸¾å’Œèµ„æºé™åˆ¶é…ç½®

**éªŒæ”¶æ ‡å‡†**:

- [x] 5ç§ç§Ÿæˆ·ç±»å‹å®Œæ•´å®šä¹‰
- [x] æ¯ç§ç±»å‹éƒ½æœ‰å®Œæ•´çš„TSDocæ³¨é‡Š
- [x] æ³¨é‡Šä½¿ç”¨ä¸­æ–‡ï¼Œéµå¾ªTSDocè§„èŒƒ
- [x] åŒ…å«getResourceLimits()å‡½æ•°
- [x] æ‰€æœ‰ç±»å‹æ”¯æŒ8å±‚éƒ¨é—¨æ¶æ„ï¼ˆmaxDepartmentLevels = 8ï¼‰

**å®ç°è¯´æ˜**: å·²åˆ›å»ºå®Œæ•´çš„ TenantType æšä¸¾ï¼ŒåŒ…å«5ç§ç±»å‹å’Œèµ„æºé™åˆ¶é…ç½®å‡½æ•°

---

### T-005 [P] å®ç° TenantStatus æšä¸¾

**æ–‡ä»¶è·¯å¾„**: `libs/saas-core/src/domain/value-objects/tenant-status.vo.ts`

**çŠ¶æ€å®šä¹‰**:

- TRIAL: è¯•ç”¨
- ACTIVE: æ´»è·ƒ
- SUSPENDED: æš‚åœ
- EXPIRED: è¿‡æœŸ
- DELETED: åˆ é™¤

**éªŒæ”¶æ ‡å‡†**:

- [x] 5ç§çŠ¶æ€å®Œæ•´å®šä¹‰
- [x] å®Œæ•´çš„TSDocä¸­æ–‡æ³¨é‡Š
- [x] çŠ¶æ€è½¬æ¢è§„åˆ™æ˜ç¡®ï¼ˆç±»ä¼¼ UserStatusTransitionï¼‰
- [x] åŒ…å« TenantStatusTransition ç±»å®ç°
- [x] åŒ…å«å®Œæ•´çš„ä¸šåŠ¡è§„åˆ™éªŒè¯æ–¹æ³•

**å®ç°è¯´æ˜**: å·²åˆ›å»ºå®Œæ•´çš„ TenantStatus æšä¸¾å’Œ TenantStatusTransition çŠ¶æ€è½¬æ¢ç±»ï¼Œå‚è€ƒ UserStatusTransition æ¨¡å¼

---

## ğŸ¯ Phase 3: ç§Ÿæˆ·èšåˆæ ¹å®ç°

### T-006A å®ç° TenantEntityï¼ˆå†…éƒ¨å®ä½“ï¼‰

**æ–‡ä»¶è·¯å¾„**: `libs/saas-core/src/domain/entities/tenant-entity.ts`

**æ ¸å¿ƒè¦æ±‚**:

1. **å®ä½“ä¸èšåˆæ ¹åˆ†ç¦»** âš ï¸ **MANDATORY**: å†…éƒ¨å®ä½“æ‰§è¡Œå…·ä½“ä¸šåŠ¡æ“ä½œå’Œç»´æŠ¤è‡ªèº«çŠ¶æ€ï¼ˆå³ä½¿ç®€å•èšåˆä¹Ÿå¿…é¡»åˆ†ç¦»ï¼‰
2. **å……è¡€æ¨¡å‹**: å®ä½“åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œä¸åªæ˜¯æ•°æ®å®¹å™¨
3. **8å±‚éƒ¨é—¨æ”¯æŒ**: æ”¯æŒ8å±‚éƒ¨é—¨æ¶æ„
4. **T_chineseæ–‡æ¡£**: æ‰€æœ‰å…¬å…±æ–¹æ³•å¿…é¡»æœ‰å®Œæ•´TSDocæ³¨é‡Š
5. **ä¸šåŠ¡å˜åŒ–é€‚åº”**: ç¡®ä¿æ¶æ„å¯ä»¥åº”å¯¹æœªæ¥ä¸šåŠ¡å˜åŒ–

**å±æ€§å®šä¹‰**:

```typescript
export class TenantEntity {
  // åŸºç¡€å±æ€§
  private _code: string;
  private _name: string;
  private _domain: string;

  // ç§Ÿæˆ·ç±»å‹å’ŒçŠ¶æ€
  private _type: TenantType;
  private _status: TenantStatus;

  // èµ„æºé™åˆ¶
  private _maxUsers: number;
  private _maxStorage: string;
  private _maxOrganizations: number;
  private _maxDepartmentLevels: number; // é»˜è®¤8å±‚
}
```

**éªŒæ”¶æ ‡å‡†**:

- [ ] æ‰€æœ‰å±æ€§ä¸ºprivateï¼Œé€šè¿‡æ–¹æ³•è®¿é—®
- [ ] åŒ…å«8å±‚éƒ¨é—¨æ¶æ„æ”¯æŒï¼ˆmaxDepartmentLevels = 8ï¼‰
- [ ] æ‰§è¡Œä¸šåŠ¡é€»è¾‘çš„å®ä½“æ–¹æ³•
- [ ] ç»´æŠ¤è‡ªèº«çŠ¶æ€
- [ ] T_chineseæ–‡æ¡£æ³¨é‡Šå®Œæ•´

---

### T-006B å®ç° Tenant èšåˆæ ¹

**æ–‡ä»¶è·¯å¾„**: `libs/saas-core/src/domain/aggregates/tenant.aggregate.ts`

**æ ¸å¿ƒè¦æ±‚**:

1. **ç»§æ‰¿**: ä½¿ç”¨ @hl8/domain-kernel çš„ AggregateRoot
2. **å®ä½“ä¸èšåˆæ ¹åˆ†ç¦»** âš ï¸ **MANDATORY**: èšåˆæ ¹åè°ƒå†…éƒ¨å®ä½“å¹¶å‘å¸ƒé¢†åŸŸäº‹ä»¶ï¼ˆå³ä½¿ç®€å•èšåˆä¹Ÿå¿…é¡»åˆ†ç¦»ï¼‰
3. **èŒè´£**: ç®¡ç†èšåˆè¾¹ç•Œã€åè°ƒå†…éƒ¨å®ä½“ã€å‘å¸ƒé¢†åŸŸäº‹ä»¶ã€éªŒè¯ä¸šåŠ¡è§„åˆ™
4. **å¼ºåˆ¶æ€§**: æ— è®ºå½“å‰ä¸šåŠ¡ç®€å•æˆ–å¤æ‚ï¼Œéƒ½å¿…é¡»å®ç°åˆ†ç¦»ä»¥åº”å¯¹æœªæ¥å˜åŒ–

**å±æ€§å®šä¹‰**:

```typescript
export class Tenant extends AggregateRoot<TenantId> {
  private _tenant: TenantEntity; // å†…éƒ¨å®ä½“

  // èšåˆæ ¹èŒè´£ï¼šåè°ƒå†…éƒ¨å®ä½“
  public changeStatus(newStatus: TenantStatus): void {
    this._tenant.updateStatus(newStatus);
    this.raiseEvent("TenantStatusChanged", {...});
  }
}
```

**éªŒæ”¶æ ‡å‡†**:

- [ ] ç»§æ‰¿è‡ª @hl8/domain-kernel çš„ AggregateRoot
- [ ] èšåˆæ ¹åè°ƒå†…éƒ¨å®ä½“ï¼ˆTenantEntityï¼‰
- [ ] å‘å¸ƒé¢†åŸŸäº‹ä»¶
- [ ] éªŒè¯ä¸šåŠ¡è§„åˆ™
- [ ] ç¦æ­¢è´«è¡€æ¨¡å‹ï¼ˆå¿…é¡»æœ‰ä¸šåŠ¡æ–¹æ³•ï¼‰
- [ ] T_chineseæ–‡æ¡£æ³¨é‡Šå®Œæ•´

---

### T-007 å®ç°ç§Ÿæˆ·åˆ›å»ºä¸šåŠ¡é€»è¾‘

**æ–‡ä»¶**: `libs/saas-core/src/domain/aggregates/tenant.aggregate.ts`

**æ–¹æ³•**: `create(code: string, name: string, domain: string, type: TenantType): Tenant`

**ä¸šåŠ¡è§„åˆ™**:

1. ç§Ÿæˆ·ä»£ç å¿…é¡»å”¯ä¸€ï¼ˆç”±ä»“å‚¨éªŒè¯ï¼‰
2. åŸŸåå¿…é¡»å”¯ä¸€ï¼ˆç”±ä»“å‚¨éªŒè¯ï¼‰
3. ä»£ç æ ¼å¼ï¼š3-20ä¸ªå­—ç¬¦ï¼Œå­—æ¯æ•°å­—å¼€å¤´ç»“å°¾
4. é»˜è®¤ç±»å‹ä¸ºFREEï¼ˆå¦‚æœæœªæŒ‡å®šï¼‰
5. åˆå§‹çŠ¶æ€ä¸ºTRIAL
6. åˆ›å»ºç§Ÿæˆ·æ—¶å¿…é¡»å‘å¸ƒ TenantCreated äº‹ä»¶

**å®ç°è¦ç‚¹**:

- **èšåˆæ ¹èŒè´£**: åè°ƒç§Ÿæˆ·åˆ›å»ºæµç¨‹ï¼Œå‘å¸ƒé¢†åŸŸäº‹ä»¶
- **å†…éƒ¨å®ä½“èŒè´£**: æ‰§è¡Œå…·ä½“ä¸šåŠ¡é€»è¾‘ï¼Œç»´æŠ¤è‡ªèº«çŠ¶æ€

**éªŒæ”¶æ ‡å‡†**:

- [ ] èšåˆæ ¹åè°ƒç§Ÿæˆ·åˆ›å»ºæµç¨‹
- [ ] å†…éƒ¨å®ä½“æ‰§è¡Œä¸šåŠ¡é€»è¾‘
- [ ] å‘å¸ƒ TenantCreated é¢†åŸŸäº‹ä»¶
- [ ] åŒ…å«å®Œæ•´çš„ä¸šåŠ¡è§„åˆ™éªŒè¯
- [ ] T_chineseæ–‡æ¡£æ³¨é‡Šå®Œæ•´

---

### T-008 å®ç°ç§Ÿæˆ·çŠ¶æ€è½¬æ¢ä¸šåŠ¡é€»è¾‘

**æ–‡ä»¶**: `libs/saas-core/src/domain/aggregates/tenant.aggregate.ts`

**èšåˆæ ¹æ–¹æ³•**: `changeStatus(newStatus: TenantStatus): void`

**å®ç°è¦ç‚¹**:

- **èšåˆæ ¹èŒè´£**: åè°ƒçŠ¶æ€è½¬æ¢ï¼Œå‘å¸ƒé¢†åŸŸäº‹ä»¶
- **å†…éƒ¨å®ä½“èŒè´£**: æ‰§è¡ŒçŠ¶æ€å˜æ›´ï¼ŒéªŒè¯è½¬æ¢è§„åˆ™

**çŠ¶æ€è½¬æ¢è§„åˆ™**:

- TRIAL â†’ ACTIVE âœ…
- TRIAL â†’ EXPIRED âœ… (è‡ªåŠ¨è½¬æ¢)
- ACTIVE â†’ SUSPENDED âœ…
- SUSPENDED â†’ ACTIVE âœ…
- ä»»ä½•çŠ¶æ€ â†’ DELETED âœ…
- DELETED â†’ ä»»ä½•çŠ¶æ€ âŒ (ç¦æ­¢)

**éªŒæ”¶æ ‡å‡†**:

- [ ] èšåˆæ ¹åè°ƒçŠ¶æ€è½¬æ¢
- [ ] å†…éƒ¨å®ä½“æ‰§è¡ŒçŠ¶æ€å˜æ›´
- [ ] å®ç°æ‰€æœ‰å…è®¸çš„çŠ¶æ€è½¬æ¢
- [ ] ç¦æ­¢ä¸ç¬¦åˆä¸šåŠ¡è§„åˆ™çš„è½¬æ¢
- [ ] çŠ¶æ€è½¬æ¢æ—¶å‘å¸ƒ TenantStatusChanged äº‹ä»¶
- [ ] T_chineseæ–‡æ¡£æ³¨é‡Šå®Œæ•´

---

### T-009 å®ç°ç§Ÿæˆ·èµ„æºé™åˆ¶éªŒè¯

**æ–¹æ³•**:

- `canCreateOrganization(): boolean`
- `canCreateDepartment(): boolean`
- `canAddUser(): boolean`

**éªŒæ”¶æ ‡å‡†**:

- [ ] éªŒè¯ç»„ç»‡åˆ›å»ºé™åˆ¶
- [ ] éªŒè¯éƒ¨é—¨å±‚çº§é™åˆ¶ï¼ˆä¸è¶…è¿‡8å±‚ï¼‰
- [ ] éªŒè¯ç”¨æˆ·æ•°é‡é™åˆ¶
- [ ] åŒ…å«CUSTOMç±»å‹çš„ç‰¹æ®Šå¤„ç†

---

## ğŸ“¢ Phase 4: é¢†åŸŸäº‹ä»¶å®ç°

### T-010 [P] å®ç° TenantCreated äº‹ä»¶

**æ–‡ä»¶è·¯å¾„**: `libs/saas-core/src/domain/events/tenant-created.event.ts`

**ç»§æ‰¿**: @hl8/domain-kernel DomainEvent

**éªŒæ”¶æ ‡å‡†**:

- [ ] ç»§æ‰¿è‡ª DomainEvent
- [ ] åŒ…å«ç§Ÿæˆ·åŸºæœ¬ä¿¡æ¯
- [ ] æ—¶é—´æˆ³è®°å½•æ­£ç¡®

---

### T-011 [P] å®ç° TenantStatusChanged äº‹ä»¶

**æ–‡ä»¶è·¯å¾„**: `libs/saas-core/src/domain/events/tenant-status-changed.event.ts`

**éªŒæ”¶æ ‡å‡†**:

- [ ] ç»§æ‰¿è‡ª DomainEvent
- [ ] è®°å½•æ—§çŠ¶æ€å’Œæ–°çŠ¶æ€
- [ ] åŒ…å«å˜æ›´åŸå› 

---

## âœ… Phase 5: éªŒè¯ä¸æµ‹è¯•

### T-012 æ¶æ„åˆè§„æ€§éªŒè¯

**éªŒè¯æ¸…å•**:

- [ ] é¢†åŸŸå±‚ä¸ä¾èµ–åŸºç¡€è®¾æ–½å±‚
- [ ] ä½¿ç”¨ @hl8/domain-kernel åŸºç¡€ç»„ä»¶
- [ ] æ²¡æœ‰ä½¿ç”¨ ORM æˆ–å…¶ä»–æ•°æ®åº“æ¡†æ¶
- [ ] æ‰€æœ‰ä¸šåŠ¡é€»è¾‘åœ¨èšåˆæ ¹å†…
- [ ] æ²¡æœ‰è´«è¡€æ¨¡å‹ï¼ˆå¿…é¡»æœ‰ä¸šåŠ¡æ–¹æ³•ï¼‰
- [ ] 8å±‚éƒ¨é—¨æ¶æ„æ”¯æŒéªŒè¯

---

### T-013 ä¸šåŠ¡è§„åˆ™éªŒè¯

**éªŒè¯æ¸…å•**:

- [ ] ç§Ÿæˆ·åˆ›å»ºè§„åˆ™éªŒè¯
- [ ] çŠ¶æ€è½¬æ¢è§„åˆ™éªŒè¯
- [ ] èµ„æºé™åˆ¶è§„åˆ™éªŒè¯
- [ ] 8å±‚éƒ¨é—¨å±‚çº§é™åˆ¶éªŒè¯
- [ ] ç§Ÿæˆ·ç±»å‹èµ„æºé™åˆ¶éªŒè¯

---

### T-014 [å¯é€‰] å•å…ƒæµ‹è¯•

**æ–‡ä»¶è·¯å¾„**: `libs/saas-core/src/domain/aggregates/tenant.aggregate.spec.ts`

**æµ‹è¯•è¦†ç›–**:

- [ ] ç§Ÿæˆ·åˆ›å»ºæµ‹è¯•
- [ ] çŠ¶æ€è½¬æ¢æµ‹è¯•
- [ ] èµ„æºé™åˆ¶æµ‹è¯•
- [ ] ä¸šåŠ¡è§„åˆ™è¿åæµ‹è¯•

---

## ğŸ“Š éªŒæ”¶æ£€æŸ¥è¡¨

### Clean Architecture åˆè§„æ€§

- [ ] âœ… é¢†åŸŸå±‚ç‹¬ç«‹æ€§ï¼šä¸ä¾èµ–ä»»ä½•å¤–éƒ¨æ¡†æ¶
- [ ] âœ… ä½¿ç”¨ @hl8/domain-kernel åŸºç¡€ç»„ä»¶
- [ ] âœ… å……è¡€æ¨¡å‹ï¼šä¸šåŠ¡é€»è¾‘åœ¨é¢†åŸŸå¯¹è±¡å†…
- [ ] âœ… ç¦æ­¢è´«è¡€æ¨¡å‹ï¼šä¸æ˜¯çº¯æ•°æ®å®¹å™¨
- [ ] âœ… å®ä½“ä¸èšåˆæ ¹åˆ†ç¦»ï¼šèšåˆæ ¹åè°ƒå†…éƒ¨å®ä½“å¹¶å‘å¸ƒäº‹ä»¶ï¼Œå†…éƒ¨å®ä½“æ‰§è¡Œä¸šåŠ¡æ“ä½œ

### DDD åˆè§„æ€§

- [ ] âœ… æ˜ç¡®çš„èšåˆæ ¹è¾¹ç•Œ
- [ ] âœ… å®ä½“ä¸èšåˆæ ¹åˆ†ç¦»ï¼ˆèšåˆæ ¹åè°ƒå†…éƒ¨å®ä½“ï¼Œå†…éƒ¨å®ä½“æ‰§è¡Œä¸šåŠ¡æ“ä½œï¼‰
- [ ] âœ… å€¼å¯¹è±¡ä¸å¯å˜æ€§
- [ ] âœ… é¢†åŸŸäº‹ä»¶å‘å¸ƒ
- [ ] âœ… ç»Ÿä¸€è¯­è¨€ï¼ˆä¸­æ–‡æœ¯è¯­ï¼‰

### 8å±‚éƒ¨é—¨æ¶æ„

- [ ] âœ… maxDepartmentLevels é»˜è®¤å€¼ä¸º8
- [ ] âœ… æ”¯æŒ8å±‚éƒ¨é—¨åµŒå¥—éªŒè¯
- [ ] âœ… ä¸šåŠ¡è§„åˆ™ä¸­ä½“ç°8å±‚é™åˆ¶

### T_chineseæ–‡æ¡£

- [ ] âœ… æ‰€æœ‰å…¬å…±ç±»æœ‰ @description
- [ ] âœ… æ‰€æœ‰å…¬å…±æ–¹æ³•æœ‰å®Œæ•´TSDoc
- [ ] âœ… ä½¿ç”¨ä¸­æ–‡æ³¨é‡Š
- [ ] âœ… åŒ…å« @example ç¤ºä¾‹

### è§„èŒƒéµå¾ª

- [ ] âœ… éµå¾ª .cursor/docs ä¸­çš„è§„èŒƒ
- [ ] âœ… éµå¾ª .specify/memory/constitution.md
- [ ] âœ… éµå¾ªå®šä¹‰æœ¯è¯­ .cursor/docs/definition-of-terms.mdc

---

## ğŸš€ æ‰§è¡Œé¡ºåº

1. **Setup**: T-001, T-002 (å¹¶è¡Œ)
2. **Value Objects**: T-003, T-004, T-005 (å¹¶è¡Œ)
3. **Entity-Aggregate Separation**:
   - T-006A: TenantEntity (å†…éƒ¨å®ä½“) - å…ˆæ‰§è¡Œ
   - T-006B: Tenant Aggregate (èšåˆæ ¹) - ä¾èµ–T-006A
4. **Business Logic**: T-007, T-008, T-009 (é¡ºåºï¼Œä¾èµ–T-006Aå’ŒT-006B)
5. **Events**: T-010, T-011 (å¹¶è¡Œ)
6. **Validation**: T-012, T-013 (å¹¶è¡Œ)
7. **Testing**: T-014 (å¯é€‰)

---

## ğŸ“ å®Œæˆæ ‡å‡†

å½“æ‰€æœ‰ä»»åŠ¡å®Œæˆä¸”éªŒæ”¶æ£€æŸ¥è¡¨å…¨éƒ¨é€šè¿‡æ—¶ï¼Œç§Ÿæˆ·å­é¢†åŸŸçš„å®ç°å³ä¸ºå®Œæˆã€‚

**æœ€ç»ˆéªŒè¯**:

- æ¶æ„åˆè§„æ€§ âœ…
- ä¸šåŠ¡è§„åˆ™æ­£ç¡® âœ…
- 8å±‚éƒ¨é—¨æ¶æ„æ”¯æŒ âœ…
- T_chineseæ–‡æ¡£å®Œæ•´ âœ…
- ä»£ç ç¬¦åˆè§„èŒƒ âœ…
